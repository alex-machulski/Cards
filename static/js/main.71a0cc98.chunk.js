(this["webpackJsonpfriday-project-inc"]=this["webpackJsonpfriday-project-inc"]||[]).push([[0],{19:function(e,t,n){e.exports={registerBlock:"Register_registerBlock__l65On",inputElement:"Register_inputElement__3eS7w"}},20:function(e,t,n){e.exports={navBlock:"Main_navBlock__1BCuH"}},23:function(e,t,n){e.exports={errorBlock:"Error404_errorBlock__31wTr",number:"Error404_number__10AAh",message:"Error404_message__3jV4D",cat:"Error404_cat__vAScU"}},30:function(e,t,n){e.exports={superInput:"SuperInputText_superInput__3p6xM",errorInput:"SuperInputText_errorInput__8MYYn",error:"SuperInputText_error__7wOv0"}},36:function(e,t,n){e.exports={default:"SuperButton_default__1Zqa-",red:"SuperButton_red__1dYOz"}},37:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__31-MZ",spanClassName:"SuperCheckbox_spanClassName__3J3Yc"}},50:function(e,t,n){e.exports={editableSpan:"SuperEditableSpan_editableSpan__3s46N"}},56:function(e,t,n){},57:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(25),s=n.n(a),i=(n(56),n(57),n(4)),o=n(15),l=n(11),u=n(2),j=n(49),d=n.n(j).a.create({withCredentials:!0,baseURL:"http://localhost:7542/2.0/",headers:{}}),b=function(){return d.post("/auth/me",{})},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d.post("/auth/login",{email:e,password:t,rememberMe:n})},h=function(){return d.delete("/auth/me",{})},O=function(e,t){return d.post("auth/register",{email:e,password:t})},m="SET-USER-DATA",x={isLoggedIn:!1,_id:null,email:null,name:null,avatar:"",publicCardPacksCount:0,rememberMe:!1,error:null},v=function(e,t,n,r,c,a,s,i){return{type:m,payload:{isLoggedIn:a,_id:e,email:t,name:n,avatar:s,publicCardPacksCount:r,rememberMe:c,error:i}}},f=function(){return function(e){b().then((function(t){if(200===t.status){var n=t.data,r=n._id,c=n.email,a=n.name,s=n.publicCardPacksCount,i=n.rememberMe,o=n.avatar,l=n.error;e(v(r,c,a,s,i,!0,o,l))}}))}},g="SET_IS_APP_LOADING",_={isAppLoading:!1},C=function(e){return{type:g,isAppLoading:e}},w="register/SET_REGISTER_SUCCESS",S="register/CLEAR_REGISTER_STATUS",E="register/SET_REGISTER_ERROR",y={isRegistrationSuccess:!1,registerError:null},N=function(){return{type:w}},k=function(e){return{type:E,error:e}},P=n(1),R=function(){var e=Object(l.c)((function(e){return e.login.isLoggedIn})),t=Object(l.b)();Object(r.useEffect)((function(){t(f()),t({type:S})}),[]);return e?Object(P.jsx)(i.a,{to:ue}):Object(P.jsxs)("div",{children:[Object(P.jsx)("h1",{children:"Login"}),Object(P.jsx)(o.c,{initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(e,n){var r,c,a;n.setSubmitting;t((r=e.email,c=e.password,a=e.rememberMe,function(e){p(r,c,a).then((function(t){200===t.status?e(f()):console.log(t)}))}))},children:Object(P.jsxs)(o.b,{children:[Object(P.jsx)("label",{htmlFor:"email",children:"Email"}),Object(P.jsx)(o.a,{id:"email",name:"email",placeholder:"email",type:"email"}),Object(P.jsx)("label",{htmlFor:"password",children:"Password"}),Object(P.jsx)(o.a,{id:"password",name:"password",placeholder:"password",type:"password"}),Object(P.jsx)(o.a,{id:"rememberMe",name:"rememberMe",type:"checkbox"}),Object(P.jsx)("button",{type:"submit",children:"Submit"})]})})]})},B=n(19),T=n.n(B),I=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.register.isRegistrationSuccess})),n=Object(l.c)((function(e){return e.register.registerError})),r=Object(l.c)((function(e){return e.app.isAppLoading})),c=Object(o.d)({initialValues:{email:"",password:"",repeatPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password?e.password.length<8&&(t.password="Must be 8 characters or more"):t.password="Required",e.repeatPassword!==e.password&&(t.repeatPassword="Passwords don't match"),t},onSubmit:function(t){var n,r;e((n=t.email,r=t.password,function(e){e(C(!0)),O(n,r).then((function(t){t.data.error||e(N())})).catch((function(t){e(k(t.response.data.error))})).finally((function(){C(!1)}))}))}});if(t)return Object(P.jsx)(i.a,{to:oe});return Object(P.jsxs)("div",{className:T.a.registerBlock,children:[Object(P.jsx)("h1",{children:"Register"}),Object(P.jsxs)("form",{onSubmit:c.handleSubmit,children:[Object(P.jsx)("span",{children:"Email: "}),Object(P.jsxs)("div",{className:T.a.inputElement,children:[Object(P.jsx)("input",Object(u.a)(Object(u.a)({type:"email"},c.getFieldProps("email")),{},{onFocus:function(){n&&e(k(null))}})),c.touched.email&&c.errors.email?Object(P.jsx)("div",{style:{color:"red"},children:c.errors.email}):null]}),Object(P.jsx)("span",{children:"Password: "}),Object(P.jsxs)("div",{className:T.a.inputElement,children:[Object(P.jsx)("input",Object(u.a)({type:"password"},c.getFieldProps("password"))),c.touched.password&&c.errors.password?Object(P.jsx)("div",{style:{color:"red"},children:c.errors.password}):null]}),Object(P.jsx)("span",{children:"Repeat password: "}),Object(P.jsxs)("div",{className:T.a.inputElement,children:[Object(P.jsx)("input",Object(u.a)({type:"password"},c.getFieldProps("repeatPassword"))),c.touched.repeatPassword&&c.errors.repeatPassword?Object(P.jsx)("div",{style:{color:"red"},children:c.errors.repeatPassword}):null]}),Object(P.jsx)("div",{children:Object(P.jsx)("button",{type:"submit",disabled:r,children:"Register"})}),Object(P.jsx)("div",{style:{color:"red"},children:n}),r&&Object(P.jsx)("div",{children:Object(P.jsx)("h2",{children:"Loading..."})})]})]})},A=n(29),F=n(6),L=function(){var e=Object(l.c)((function(e){return e.login})),t=Object(r.useState)(e.isLoggedIn),n=Object(A.a)(t,2),c=n[0],a=n[1],s=Object(l.b)();Object(r.useEffect)((function(){s(f())}),[]);return Object(P.jsxs)("div",{children:[Object(P.jsx)("h1",{children:"Profile"}),c?Object(P.jsxs)("div",{children:[Object(P.jsx)("button",{onClick:function(){s((function(e){h().then((function(t){200===t.status&&e(v(null,null,null,0,!1,!1,"",null))}))})),a(!1)},children:"LogOut"}),Object(P.jsxs)("div",{children:["name: ",e.name]}),Object(P.jsxs)("div",{children:["email: ",e.email]}),Object(P.jsxs)("div",{children:["publicCardPacksCount: ",e.publicCardPacksCount]}),Object(P.jsx)("img",{src:e.avatar,alt:"avatar"})]}):Object(P.jsx)(F.b,{to:oe,children:"Please, login"})]})},M=n(23),Z=n.n(M);var D=function(){return Object(P.jsxs)("div",{className:Z.a.errorBlock,children:[Object(P.jsx)("div",{className:Z.a.number,children:"404"}),Object(P.jsx)("div",{className:Z.a.message,children:"Page not found!"}),Object(P.jsx)("div",{className:Z.a.cat,children:"\u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014"})]})},U=function(){var e=Object(o.d)({initialValues:{email:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",t},onSubmit:function(e){alert(e.email)}});return Object(P.jsxs)("div",{className:T.a.registerBlock,children:[Object(P.jsx)("h1",{children:"Recover Password"}),Object(P.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(P.jsx)("span",{children:"Email: "}),Object(P.jsxs)("div",{className:T.a.inputElement,children:[Object(P.jsx)("input",Object(u.a)({type:"email"},e.getFieldProps("email"))),e.touched.email&&e.errors.email?Object(P.jsx)("div",{style:{color:"red"},children:e.errors.email}):null]}),Object(P.jsx)("div",{children:Object(P.jsx)("button",{type:"submit",children:"Recover"})})]})]})},q=function(){return Object(P.jsx)("div",{children:Object(P.jsx)("h1",{children:"Enter Password"})})},G=n(20),V=n.n(G),Y=function(){return Object(P.jsxs)("div",{children:[Object(P.jsx)(F.b,{className:V.a.navBlock,to:oe,children:"Login"}),Object(P.jsx)(F.b,{className:V.a.navBlock,to:le,children:"Register"}),Object(P.jsx)(F.b,{className:V.a.navBlock,to:ue,children:"Profile"}),Object(P.jsx)(F.b,{className:V.a.navBlock,to:je,children:"Restore Password"}),Object(P.jsx)(F.b,{className:V.a.navBlock,to:de,children:"Enter Password"}),Object(P.jsx)(F.b,{className:V.a.navBlock,to:be,children:"Test Page"})]})},J=n(9),K=n(30),$=n.n(K),z=function(e){e.type;var t=e.onChange,n=e.onChangeText,r=e.onKeyPress,c=e.onEnter,a=e.error,s=e.className,i=e.spanClassName,o=Object(J.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),l="".concat($.a.error," ").concat(i||""),j="".concat(a?$.a.errorInput:$.a.superInput," ").concat(s);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("input",Object(u.a)({type:"text",onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){r&&r(e),"Enter"===e.key&&c&&c()},className:j},o)),a&&Object(P.jsx)("span",{className:l,children:a})]})},H=n(36),Q=n.n(H),W=function(e){var t=e.red,n=e.className,r=Object(J.a)(e,["red","className"]),c="".concat(t?Q.a.red:Q.a.default," ").concat(n);return Object(P.jsx)("button",Object(u.a)({className:c},r))},X=n(37),ee=n.n(X),te=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,c=(e.spanClassName,e.children),a=Object(J.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(ee.a.checkbox," ").concat(r||"");return Object(P.jsxs)("div",{children:[Object(P.jsx)("input",Object(u.a)({type:"checkbox",onChange:function(e){n&&n(e.currentTarget.checked),t&&t(e)},className:s,id:"supercheckbox"},a)),Object(P.jsx)("label",{htmlFor:"supercheckbox",children:c&&Object(P.jsx)("span",{className:ee.a.spanClassName,children:c})})]})},ne=n(50),re=n.n(ne),ce=function(e){e.autoFocus;var t=e.onBlur,n=e.onEnter,c=e.spanProps,a=Object(J.a)(e,["autoFocus","onBlur","onEnter","spanProps"]),s=Object(r.useState)(!1),i=Object(A.a)(s,2),o=i[0],l=i[1],j=c||{},d=j.children,b=j.onDoubleClick,p=j.className,h=Object(J.a)(j,["children","onDoubleClick","className"]),O="".concat(re.a.editableSpan," ").concat(p);return Object(P.jsx)(P.Fragment,{children:o?Object(P.jsx)(z,Object(u.a)({autoFocus:!0,onBlur:function(e){l(!1),t&&t(e)},onEnter:function(){l(!1),n&&n()}},a)):Object(P.jsxs)("span",Object(u.a)(Object(u.a)({onDoubleClick:function(e){l(!0),b&&b(e)},className:O},h),{},{children:[d||a.value,Object(P.jsx)("img",{src:"https://image.flaticon.com/icons/png/512/45/45706.png",width:"20px"})]}))})},ae=(n(81),function(e){var t=e.options,n=e.onChange,r=e.onChangeOption,c=Object(J.a)(e,["options","onChange","onChangeOption"]),a=null===t||void 0===t?void 0:t.map((function(e,t){return Object(P.jsx)("option",{children:e},t)}));return Object(P.jsx)("select",Object(u.a)(Object(u.a)({onChange:function(e){n&&n(e),r&&r(e.currentTarget.value)}},c),{},{children:a}))}),se=(n(82),function(e){e.type;var t=e.name,n=e.options,r=(e.value,e.onChange),c=e.onChangeOption,a=(Object(J.a)(e,["type","name","options","value","onChange","onChangeOption"]),function(e){r&&r(e),c&&c(e.currentTarget.value)}),s=n?n.map((function(e,n){return Object(P.jsxs)("div",{className:"form_radio",children:[Object(P.jsx)("input",{id:"hw7-radio"+n,className:"radio",type:"radio",name:t,checked:0===n,value:e,onChange:a}),Object(P.jsxs)("label",{htmlFor:"hw7-radio"+n,children:[Object(P.jsx)("span",{}),e]})]},t+"-"+n)})):[];return Object(P.jsx)(P.Fragment,{children:s})}),ie=function(){return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{children:Object(P.jsx)(z,{value:"super input text"})}),Object(P.jsx)("div",{children:Object(P.jsx)(W,{children:"Super Button"})}),Object(P.jsx)("div",{children:Object(P.jsx)(te,{})}),Object(P.jsx)("div",{children:Object(P.jsx)(ce,{value:"Super Editable Span"})}),Object(P.jsx)("div",{children:Object(P.jsx)(ae,{options:["value 1","value 2","value 3"]})}),Object(P.jsx)("div",{children:Object(P.jsx)(se,{options:["value 1","value 2","value 3"]})})]})},oe="/login",le="/register",ue="/profile",je="/restore-pass",de="/enter-pass",be="/test",pe=function(){return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(Y,{}),Object(P.jsx)("div",{children:Object(P.jsxs)(i.d,{children:[Object(P.jsx)(i.b,{exact:!0,path:"/",render:function(){return Object(P.jsx)(L,{})}}),Object(P.jsx)(i.b,{path:oe,render:function(){return Object(P.jsx)(R,{})}}),Object(P.jsx)(i.b,{path:le,render:function(){return Object(P.jsx)(I,{})}}),Object(P.jsx)(i.b,{path:ue,render:function(){return Object(P.jsx)(L,{})}}),Object(P.jsx)(i.b,{path:je,render:function(){return Object(P.jsx)(U,{})}}),Object(P.jsx)(i.b,{path:de,render:function(){return Object(P.jsx)(q,{})}}),Object(P.jsx)(i.b,{path:be,render:function(){return Object(P.jsx)(ie,{})}}),Object(P.jsx)(i.b,{render:function(){return Object(P.jsx)(D,{})}})]})})]})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},Oe=n(22),me=n(51),xe={},ve={},fe=Object(Oe.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(u.a)(Object(u.a)({},e),{},{isAppLoading:t.isAppLoading});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(u.a)(Object(u.a)({},e),t.payload);default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(u.a)(Object(u.a)({},e),{},{isRegistrationSuccess:!0});case S:return Object(u.a)(Object(u.a)({},e),{},{isRegistrationSuccess:!1});case E:return Object(u.a)(Object(u.a)({},e),{},{registerError:t.error});default:return e}},recover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;return t.type,e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),ge=Object(Oe.d)(fe,Object(Oe.a)(me.a));window.store=ge,s.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(F.a,{children:Object(P.jsx)(l.a,{store:ge,children:Object(P.jsx)(pe,{})})})}),document.getElementById("root")),he()}},[[83,1,2]]]);
//# sourceMappingURL=main.71a0cc98.chunk.js.map